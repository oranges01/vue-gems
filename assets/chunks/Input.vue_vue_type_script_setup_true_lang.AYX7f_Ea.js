import{d as D,N as O,aa as T,s as p,v as U,h as V,o,c as n,F as G,r as f,e as i,j as B,a3 as C,ab as K,M as x,k as F,b as I,$ as S,ac as q,n as H,R as J}from"./framework.Du1KEPtK.js";import{_ as P}from"./Icon.vue_vue_type_script_setup_true_lang.DhRIcCO1.js";import{a as L}from"./types.Dnj8X3EN.js";const Q={key:0,class:"gems-input__prepend"},W={class:"gems-input__wrapper"},X={key:0,class:"gems-input__prefix"},Y=["type","disabled","readonly","autocomplete","placeholder","autofocus","form"],Z={key:1,class:"gems-input__append"},_=["disabled","readonly","autocomplete","placeholder","autofocus","form"],le=D({name:"GemsInput",inheritAttrs:!1,__name:"Input",props:{type:{default:"text"},modelValue:null,size:null,disabled:{type:Boolean},clearable:{type:Boolean},showPassword:{type:Boolean},placeholder:null,readonly:{type:Boolean},autocomplete:{default:"off"},autofocus:{type:Boolean},form:null,validateEvent:{type:Boolean,default:!0}},emits:["update:modelValue","input","change","focus","blur","clear"],setup(a,{expose:M,emit:z}){const y=O(L,null),m=e=>{t.validateEvent&&y&&y.validate(e).catch(u=>console.log(u.errors))},h=T(),t=a,l=z,s=p(t.modelValue),g=()=>{l("update:modelValue",s.value),l("input",s.value),m("input")},N=()=>{l("change",s.value),m("change")};U(()=>t.modelValue,e=>{s.value=e});const d=p(!1),b=e=>{d.value=!0,l("focus",e)},k=e=>{d.value=!1,l("blur",e),m("blur")},R=async()=>{var e;J(),(e=c.value)==null||e.focus()},w=V(()=>d.value&&t.clearable&&!t.disabled&&!!s.value),A=()=>{s.value="",l("update:modelValue",""),l("clear"),l("change",""),l("input","")},E=()=>{},r=p(!1),$=V(()=>t.showPassword&&!t.disabled&&!!s.value),j=()=>{r.value=!r.value},c=p();return M({ref:c}),(e,u)=>(o(),n("div",{class:H(["gems-input",{[`gems-input--${a.type}`]:a.type,[`gems-input--${a.size}`]:a.size,"is-disabled":a.disabled,"is-prepend":e.$slots.prepend,"is-append":e.$slots.append,"is-prefix":e.$slots.prefix,"is-suffix":e.$slots.suffix,"is-focus":d.value}])},[a.type!=="textarea"?(o(),n(G,{key:0},[e.$slots.prepend?(o(),n("div",Q,[f(e.$slots,"prepend")])):i("",!0),B("div",W,[e.$slots.prefix?(o(),n("span",X,[f(e.$slots,"prefix")])):i("",!0),C(B("input",x({ref_key:"inputRef",ref:c,"onUpdate:modelValue":u[0]||(u[0]=v=>s.value=v),class:"gems-input__inner",type:a.showPassword?r.value?"text":"password":a.type},F(h),{disabled:a.disabled,readonly:a.readonly,autocomplete:a.autocomplete,placeholder:a.placeholder,autofocus:a.autofocus,form:a.form,onInput:g,onChange:N,onFocus:b,onBlur:k}),null,16,Y),[[K,s.value]]),e.$slots.suffix||w.value||$.value?(o(),n("span",{key:1,class:"gems-input__suffix",onClick:R},[f(e.$slots,"suffix"),w.value?(o(),I(P,{key:0,icon:"circle-xmark",class:"gems-input__clear",onClick:A,onMousedown:S(E,["prevent"])})):i("",!0),$.value?(o(),I(P,{key:1,icon:r.value?"eye":"eye-slash",class:"gems-input__password",onClick:j},null,8,["icon"])):i("",!0)])):i("",!0)]),e.$slots.append?(o(),n("div",Z,[f(e.$slots,"append")])):i("",!0)],64)):C((o(),n("textarea",x({key:1,ref_key:"inputRef",ref:c,"onUpdate:modelValue":u[1]||(u[1]=v=>s.value=v),class:"gems-textarea__wrapper"},F(h),{disabled:a.disabled,readonly:a.readonly,autocomplete:a.autocomplete,placeholder:a.placeholder,autofocus:a.autofocus,form:a.form,onInput:g,onFocus:b,onBlur:k}),null,16,_)),[[q,s.value]])],2))}});export{le as _};
